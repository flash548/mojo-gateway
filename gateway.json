{
  "secret": "<%= $ENV{SECRET} // 'change_this' %>",
  "admin_user": "<%= $ENV{ADMIN_USER} // 'admin@admin.com' %>",
  "admin_pass": "<%= $ENV{ADMIN_PASS} // 'password' %>",
  "db_type": "<%= $ENV{DB_TYPE} // 'sqlite' %>",
  "db_uri": "<%= $ENV{DB_URI} // 'postgresql://czell:password@localhost:5432/test' %>",
  "strip_headers_to_client": [ "authorization", "server", "x-powered-by"  ],
  "jwt_secret": "<%= $ENV{SECRET} // 'change_this' %>",
  "routes": {
    "/": {
      "uri": "<%= $ENV{FRONTEND_URI} // 'http://localhost:8080/' %>",
      "enable_jwt": true,
      "jwt_claims": {
        "email": "$c->session->{user}->{email}"
      },
      "transforms": [{
        "condition": "$c->req->url->path =~ m/environment\\.js/",
        "action": "$body =~ s!http://localhost:8080/puckboard-api/v1!/puckboard-api/v1!"
      }]
    },
    "/api/**" : {
      "uri": "<%= $ENV{BACKEND_URI} // 'http://localhost:9000/' %>",
      "enable_jwt": true,
      "jwt_claims": {
        "email": "$c->session->{user}->{email}"
      }
    },
    "/other-api" : {
      "uri" : "<%= $ENV{OTHER_BACKEND_URI} // 'http://localhost:8081/' %>",
      "enable_jwt": true,
      "jwt_claims": {
        "email": "$c->session->{user}->{email}",
        "usercertificate": "\"Tron.Developer.\" . $c->session->{user}->{dod_id}"
      },
      "other_headers": {
        "x-forwarded-client-cert": "some other header data"
      }
    }
  },
  "password_valid_days": 60,
  "password_complexity": {
    "min_length": 8,
    "alphas": 1,
    "numbers": 1,
    "specials": 1,
    "spaces": false
  },
  "default_route": {
    "uri": "<%= $ENV{FRONTEND_URI} // 'http://localhost:8080/' %>",
    "enable_jwt": true,
    "jwt_claims": {
      "email": "$c->session->{user}->{email}"
    }
  }
}
